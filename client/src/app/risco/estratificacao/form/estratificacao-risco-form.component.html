<main class="stratification-container">
  <section class="tabs-container">
    <form [formGroup]="form" (ngSubmit)="save()">
      <h2 class="title" *ngIf="currentTab != 3">{{title}}</h2>
      <h2 class="title" *ngIf="currentTab == 3">RESUMO</h2>

      <section class="tab-item" [class.active]="currentTab == 0">
        <grupo-fator-risco [risks_stratification]="risks_stratification"
                           [formGroupRisk]="groupRisks" [controlIsEmpty]="controlState">
        </grupo-fator-risco>
      </section>

      <section class="tab-item" [class.active]="currentTab == 1">
        <grupo-tev-clinico [tev_clinical]="tev_clinical" [formGroupTevClinical]="groupTevClinical"></grupo-tev-clinico>
        <grupo-tev-cirurgico [tev_surgical]="tev_surgical"
                             [formGroupTevSurgical]="groupTevSurgical"></grupo-tev-cirurgico>
        <grupo-braden [braden]="escala_braden" [formGroupBraden]="groupBraden"
                      [controlIsEmpty]="controlState"></grupo-braden>
        <grupo-bradenq *ngIf="idade < 18" [bradenq]="escala_braden_q" [formGroupBradenq]="groupBradenQ"
                       [controlIsEmpty]="controlState"></grupo-bradenq>
      </section>

      <section class="tab-item" [class.active]="currentTab == 2">
        <grupo-escala-jh-frat *ngIf="idade > 18" [escala_jh_frat]="escala_jh_frat" [formGroupJhFrat]="groupJhfrat"
                              [controlIsEmpty]="controlState"></grupo-escala-jh-frat>
        <grupo-humpty-dumpty *ngIf="idade < 18" [escala_humpty_dumpty]="escala_humpty_dumpty"
                             [formGroupHumptyDumpty]="groupHumptyDumpty"
                             [controlIsEmpty]="controlState"></grupo-humpty-dumpty>
      </section>

      <section class="tab-item" [class.active]="currentTab == 3">
        <resumo
          [form]="form"
          [risks_stratification]="risks_stratification"
          [groupRisks]="groupRisks"
          [groupTevClinical]="groupTevClinical"
          [tevClinico]="tev_clinical"
          [groupTevSurgical]="groupTevSurgical"
          [tevSurgical]="tev_surgical"
          [groupBraden]="groupBraden"
          [braden]="escala_braden"
          [groupBradenQ]="groupBradenQ"
          [bradenQ]="escala_braden_q"
          [groupJhfrat]="groupJhfrat"
          [groupHumptyDumpty]="groupHumptyDumpty"
        ></resumo>
      </section>
    </form>
  </section>
  <footer class="footer-arrows">
    <div class="arrow-label" (click)="previousTab()">
      <fa-icon class="chevronLeft" [icon]="faChevronLeft"></fa-icon>
      Voltar
    </div>
    <div class="arrow-label" *ngIf="currentTab != 3" (click)="nextTab()">Avan√ßar
      <fa-icon class="chevronRight" [icon]="faChevronRight"></fa-icon>
    </div>
    <div *ngIf="currentTab == 3" (click)="save()">
      <button class="btn-save" [disabled]="!form.valid">
        <fa-icon class="faCheck" [icon]="faCheck"></fa-icon>
        Salvar
      </button>
    </div>
  </footer>
</main>
